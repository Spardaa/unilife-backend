# ================================
# UniLife Backend - Serverless 环境变量配置
# ================================
#
# 将此配置复制到云函数控制台的环境变量配置中
#
# 注意：
# 1. 不要在代码中硬编码敏感信息
# 2. 生产环境务必修改 JWT_SECRET_KEY
# 3. DEEPSEEK_API_KEY 需要从 https://platform.deepseek.com 获取
#

# ================================
# 运行环境
# ================================
# 必须设置为 true，禁用后台任务调度器
SERVERLESS=true

# 调试模式（生产环境设为 false）
DEBUG=false

# 日志级别
LOG_LEVEL=INFO

# ================================
# 数据库配置
# ================================
# 数据库类型：postgresql（Serverless 必须使用云数据库）
DB_TYPE=postgresql

# PostgreSQL 连接字符串
# 格式：postgresql+asyncpg://用户名:密码@主机:端口/数据库名
#
# 示例（腾讯云 PostgreSQL）：
# POSTGRESQL_URL=postgresql+asyncpg://unilife_user:your_password@postgres.xxx.tencentcloudapi.com:5432/unilife
#
# 示例（Supabase 免费数据库）：
# POSTGRESQL_URL=postgresql+asyncpg://postgres:your_password@db.xxx.supabase.co:5432/postgres
#
# 获取步骤：
# 1. 创建云数据库实例
# 2. 在控制台找到连接信息
# 3. 替换下面的占位符
POSTGRESQL_URL=postgresql+asyncpg://用户名:密码@主机地址:5432/数据库名

# SQLite 配置（Serverless 环境不使用，保留是为了兼容）
# SQLITE_PATH=/tmp/unilife.db

# ================================
# LLM 配置（GLM）
# ================================
# GLM API 密钥
# 获取地址：智谱AI开放平台
GLM_API_KEY=你的API密钥

# GLM API 地址（通常不需要修改）
GLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4/

# GLM 模型名称
GLM_MODEL=glm-4.7

# ================================
# JWT 认证配置
# ================================
# JWT 密钥（生产环境务必使用随机字符串）
# 可以用命令生成：openssl rand -hex 32
JWT_SECRET_KEY=生产环境请改为随机字符串

# JWT 加密算法
JWT_ALGORITHM=HS256

# Token 过期时间（分钟）
# 10080 = 7天
JWT_EXPIRE_MINUTES=10080

# ================================
# 微信集成（可选）
# ================================
# 如果使用 chatgpt-on-wechat 接入
# WECHAT_WEBHOOK_URL=http://your-server:3001/api/v1/chat
# WECHAT_SECRET_KEY=your_webhook_secret

# ================================
# 其他配置（可选）
# ================================
# API 主机（Serverless 环境不使用）
# API_HOST=0.0.0.0
# API_PORT=8000
